Step 1/21 : FROM bitwalker/alpine-elixir-phoenix:1.11.4
# Executing 1 build trigger
 ---> Using cache
 ---> ba5027ccc6a8
Step 2/21 : RUN apk --no-cache --update add alpine-sdk gmp-dev automake libtool inotify-tools autoconf python3 file
 ---> Using cache
 ---> 0b067d268c08
Step 3/21 : RUN curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y
 ---> Using cache
 ---> 96f78d5acd07
Step 4/21 : ENV PATH="$HOME/.cargo/bin:${PATH}"
 ---> Using cache
 ---> 2418d7722b7e
Step 5/21 : ENV RUSTFLAGS="-C target-feature=-crt-static"
 ---> Using cache
 ---> 38ce787a3131
Step 6/21 : EXPOSE 4000
 ---> Using cache
 ---> 58503291a341
Step 7/21 : ENV PORT=4000     MIX_ENV="prod"     SECRET_KEY_BASE="RMgI4C1HSkxsEjdhtGMfwAHfyT6CKWXOgzCboJflfSm4jeAlic52io05KB6mqzc5"
 ---> Using cache
 ---> 3c55edc25180
Step 8/21 : ADD mix.exs mix.lock ./
 ---> Using cache
 ---> 6ae641dc2988
Step 9/21 : ADD apps/block_scout_web/mix.exs ./apps/block_scout_web/
 ---> Using cache
 ---> ef66725464ce
Step 10/21 : ADD apps/explorer/mix.exs ./apps/explorer/
 ---> Using cache
 ---> 18d6c7f20327
Step 11/21 : ADD apps/ethereum_jsonrpc/mix.exs ./apps/ethereum_jsonrpc/
 ---> Using cache
 ---> 8d433b32ed41
Step 12/21 : ADD apps/indexer/mix.exs ./apps/indexer/
 ---> Using cache
 ---> dce78a6ba765
Step 13/21 : RUN mix do deps.get, local.rebar --force, deps.compile
 ---> Using cache
 ---> 1e9dc834f38c
Step 14/21 : ADD . .
 ---> d8be0231e04c
Step 15/21 : RUN chmod +x wait-for-it.sh
 ---> Running in a635aba0fe5d
Removing intermediate container a635aba0fe5d
 ---> e94bc772f397
Step 16/21 : ARG COIN
 ---> Running in 1c0c777d1bac
Removing intermediate container 1c0c777d1bac
 ---> a4a866089d5f
Step 17/21 : RUN if [ "$COIN" != "" ]; then sed -i s/"POA"/"${COIN}"/g apps/block_scout_web/priv/gettext/en/LC_MESSAGES/default.po; fi
 ---> Running in c4285ee3dda0
Removing intermediate container c4285ee3dda0
 ---> ac50eedc3ff5
Step 18/21 : RUN mix compile
 ---> Running in aa17599de24f
==> ethereum_jsonrpc
Compiling 56 files (.ex)
Generated ethereum_jsonrpc app
==> explorer
Compiling 170 files (.ex)
Generated explorer app
==> indexer
Compiling 51 files (.ex)
Generated indexer app
==> block_scout_web
Compiling 192 files (.ex)
Generating BlockScoutWeb.Cldr for 2 locales named ["en", "root"] with a default locale named "en"
Compiling lib/block_scout_web/cldr.ex (it's taking more than 10s)
Generated block_scout_web app
Removing intermediate container aa17599de24f
 ---> 32185f6c0d0f
Step 19/21 : RUN cd apps/block_scout_web/assets/ &&     npm install &&     npm run deploy &&     cd -
 ---> Running in db2b91e997c0
[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated
[0m[91mnpm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.
[0m[91mnpm WARN deprecated uuid@3.3.2: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.
[0m[91mnpm WARN deprecated sane@4.1.0: some dependency vulnerabilities fixed, support for node < 10 dropped, and newer ECMAScript syntax/features added
[0m[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated
[0m[91mnpm WARN deprecated request-promise-native@1.0.8: request-promise-native has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142
[0m[91mnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.
[0m[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
[0m[91mnpm WARN deprecated popper.js@1.16.1: You can find the new Popper v2 at @popperjs/core, this package is dedicated to the legacy v1
[0m[91mnpm WARN deprecated mkdirp-promise@5.0.1: This package is broken and no longer maintained. 'mkdirp' itself supports promises now, please switch to that.
[0m[91mnpm WARN deprecated multicodec@0.5.7: stable api reached
[0m[91mnpm WARN deprecated har-validator@5.1.3: this library is no longer supported
[0m[91mnpm WARN deprecated ethereumjs-tx@2.1.2: New package name format for new versions: @ethereumjs/tx. Please update.
[0m[91mnpm WARN deprecated highlight.js@10.4.0: Potential vulnerability. Please upgrade to @latest
[0m[91mnpm WARN deprecated ethereumjs-common@1.5.2: New package name format for new versions: @ethereumjs/common. Please update.
[0m[91mnpm WARN deprecated debug@4.1.1: Debug versions >=3.2.0 <3.2.7 || >=4 <4.3.1 have a low-severity ReDos regression when used in a Node.js environment. It is recommended you upgrade to 3.2.7 or 4.3.1. (https://github.com/visionmedia/debug/issues/797)
[0m[91mnpm WARN deprecated core-js@2.6.12: core-js@<3.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.
[0m[91mnpm WARN deprecated @babel/polyfill@7.12.1: ðŸš¨ This package has been deprecated in favor of separate inclusion of a polyfill and regenerator-runtime (when needed). See the @babel/polyfill docs (https://babeljs.io/docs/en/babel-polyfill) for more information.
[0m
added 1565 packages, and audited 1568 packages in 36s

111 packages are looking for funding
  run `npm fund` for details

39 vulnerabilities (1 low, 32 moderate, 6 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
[91mnpm notice 
npm notice New major version of npm available! 7.15.1 -> 8.4.1
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v8.4.1>
npm notice Run `npm install -g npm@8.4.1` to update!
npm notice 
[0m
> deploy
> webpack --mode production

[91mBrowserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
[0m[91mBrowserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
[0m[91mBrowserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
[0m[91mBrowserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
[0m[91mBrowserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
[0m[91mBrowserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
[0m[91mBrowserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
[0m[91mBrowserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
[0m[91mBrowserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
[0m[91mBrowserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
[0m[91mBrowserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
[0m[91mBrowserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
[0m[91mBrowserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
[0m[91mBrowserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
[0m[91mBrowserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
[0m[91mBrowserslist: caniuse-lite is outdated. Please run:
npx browserslist@latest --update-db

Why you should do it regularly:
https://github.com/browserslist/browserslist#browsers-data-updating
[0masset address_contract/code_highlighting.js 915 KiB [emitted] [minimized] [big] (name: main) 1 related asset
runtime modules 663 bytes 3 modules
modules by path ./node_modules/highlight.js/lib/languages/*.js 1.19 MiB 190 modules
modules by path ./node_modules/highlight.js/lib/*.js 76.2 KiB
  ./node_modules/highlight.js/lib/index.js 11.8 KiB [built] [code generated]
  ./node_modules/highlight.js/lib/core.js 64.4 KiB [built] [code generated]
./js/view_specific/address_contract/code_highlighting.js 199 bytes [built] [code generated]
./node_modules/jquery/dist/jquery.js 281 KiB [built] [code generated]

WARNING in asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).
This can impact web performance.
Assets: 
  address_contract/code_highlighting.js (915 KiB)

WARNING in entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.
Entrypoints:
  main (915 KiB)
      address_contract/code_highlighting.js

WARNING in webpack performance recommendations: 
You can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.
For more info visit https://webpack.js.org/guides/code-splitting/

webpack 5.44.0 compiled with 3 warnings in 9765 ms

asset raw_trace/code_highlighting.js 915 KiB [emitted] [minimized] [big] (name: main) 1 related asset
runtime modules 663 bytes 3 modules
modules by path ./node_modules/highlight.js/lib/languages/*.js 1.19 MiB 190 modules
modules by path ./node_modules/highlight.js/lib/*.js 76.2 KiB
  ./node_modules/highlight.js/lib/index.js 11.8 KiB [built] [code generated]
  ./node_modules/highlight.js/lib/core.js 64.4 KiB [built] [code generated]
./js/view_specific/raw_trace/code_highlighting.js 199 bytes [built] [code generated]
./node_modules/jquery/dist/jquery.js 281 KiB [built] [code generated]

WARNING in asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).
This can impact web performance.
Assets: 
  raw_trace/code_highlighting.js (915 KiB)

WARNING in entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.
Entrypoints:
  main (915 KiB)
      raw_trace/code_highlighting.js

WARNING in webpack performance recommendations: 
You can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.
For more info visit https://webpack.js.org/guides/code-splitting/

webpack 5.44.0 compiled with 3 warnings in 9748 ms

assets by path ../images/ 2.8 MiB 129 assets
assets by path *.js 50.7 MiB
  assets by status 50.2 MiB [big] 27 assets
  7 assets
assets by path ../css/*.css 10 MiB
  assets by status 9.83 MiB [big] 26 assets
  asset ../css/main-page.css 210 KiB [emitted] [minimized] (name: main-page)
  asset ../css/non-critical.css 10.5 KiB [emitted] [minimized] (name: non-critical)
assets by path ../fonts/ 2.79 MiB 15 assets
assets by path ../*.png 62.5 KiB 4 assets
asset ../safari-pinned-tab.svg 2.39 KiB [emitted]
asset ../manifest.webmanifest 426 bytes [emitted]
asset ../browserconfig.xml 246 bytes [emitted]
asset ../robots.txt 202 bytes [emitted]
orphan modules 786 KiB [orphan] 246 modules
runtime modules 45.1 KiB 223 modules
modules by path ./node_modules/ 5.19 MiB (javascript) 1.88 KiB (css/mini-extract)
  javascript modules 5.14 MiB 724 modules
  json modules 52.5 KiB 17 modules
  css ./node_modules/css-loader/dist/cjs.js!./node_modules/@tarekraafat/autocomplete.js/dist/css/autoComplete.01.css 1.88 KiB [built] [code generated]
modules by path ./js/ 1.08 MiB 35 modules
modules by path ./css/ 657 KiB (css/mini-extract) 404 bytes (javascript)
  css modules 657 KiB 8 modules
  javascript modules 404 bytes 2 modules
modules by path ../../../deps/ 37.8 KiB
  ../../../deps/phoenix_html/priv/static/phoenix_html.js 2.21 KiB [built] [code generated]
  ../../../deps/phoenix/priv/static/phoenix.js 35.6 KiB [built] [code generated]
12 modules

WARNING in asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).
This can impact web performance.
Assets: 
  ../fonts/fa-brands-400.svg (730 KiB)
  ../fonts/fa-solid-900.svg (897 KiB)
  ../css/app.css (388 KiB)
  app.js (1.92 MiB)
  ../css/stakes.css (388 KiB)
  stakes.js (1.92 MiB)
  ../css/chart-loader.css (375 KiB)
  chart-loader.js (379 KiB)
  ../css/chain.css (388 KiB)
  chain.js (1.94 MiB)
  ../css/blocks.css (388 KiB)
  blocks.js (1.93 MiB)
  ../css/address.css (388 KiB)
  address.js (1.93 MiB)
  ../css/address-transactions.css (388 KiB)
  address-transactions.js (1.94 MiB)
  ../css/address-token-transfers.css (388 KiB)
  address-token-transfers.js (1.93 MiB)
  ../css/address-coin-balances.css (388 KiB)
  address-coin-balances.js (1.93 MiB)
  ../css/address-internal-transactions.css (388 KiB)
  address-internal-transactions.js (1.94 MiB)
  ../css/address-logs.css (388 KiB)
  address-logs.js (1.93 MiB)
  ../css/address-validations.css (388 KiB)
  address-validations.js (1.93 MiB)
  ../css/validated-transactions.css (388 KiB)
  validated-transactions.js (1.93 MiB)
  ../css/pending-transactions.css (388 KiB)
  pending-transactions.js (1.93 MiB)
  ../css/transaction.css (388 KiB)
  transaction.js (2 MiB)
  ../css/verification-form.css (388 KiB)
  verification-form.js (2.04 MiB)
  ../css/token-counters.css (388 KiB)
  token-counters.js (1.93 MiB)
  ../css/token-transfers.css (388 KiB)
  token-transfers.js (1.93 MiB)
  ../css/admin-tasks.css (388 KiB)
  admin-tasks.js (1.92 MiB)
  ../css/read-token-contract.css (388 KiB)
  read-token-contract.js (1.95 MiB)
  ../css/smart-contract-helpers.css (388 KiB)
  smart-contract-helpers.js (1.94 MiB)
  write-contract.js (1.35 MiB)
  ../css/try-api.css (388 KiB)
  try-api.js (1.92 MiB)
  ../css/try-eth-api.css (388 KiB)
  try-eth-api.js (1.93 MiB)
  ../css/async-listing-load.css (388 KiB)
  async-listing-load.js (1.92 MiB)
  ../css/tokens.css (388 KiB)
  tokens.js (1.93 MiB)
  ../css/search-results.css (388 KiB)
  search-results.js (1.93 MiB)
  ../images/ethercore_logo.svg (762 KiB)
  ../images/ethercore_testnet_logo.svg (405 KiB)

WARNING in entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.
Entrypoints:
  app (2.3 MiB)
      ../css/app.css
      app.js
  stakes (2.3 MiB)
      ../css/stakes.css
      stakes.js
  chart-loader (754 KiB)
      ../css/chart-loader.css
      chart-loader.js
  chain (2.32 MiB)
      ../css/chain.css
      chain.js
  blocks (2.31 MiB)
      ../css/blocks.css
      blocks.js
  address (2.31 MiB)
      ../css/address.css
      address.js
  address-transactions (2.32 MiB)
      ../css/address-transactions.css
      address-transactions.js
  address-token-transfers (2.31 MiB)
      ../css/address-token-transfers.css
      address-token-transfers.js
  address-coin-balances (2.31 MiB)
      ../css/address-coin-balances.css
      address-coin-balances.js
  address-internal-transactions (2.31 MiB)
      ../css/address-internal-transactions.css
      address-internal-transactions.js
  address-logs (2.31 MiB)
      ../css/address-logs.css
      address-logs.js
  address-validations (2.31 MiB)
      ../css/address-validations.css
      address-validations.js
  validated-transactions (2.31 MiB)
      ../css/validated-transactions.css
      validated-transactions.js
  pending-transactions (2.31 MiB)
      ../css/pending-transactions.css
      pending-transactions.js
  transaction (2.38 MiB)
      ../css/transaction.css
      transaction.js
  verification-form (2.42 MiB)
      ../css/verification-form.css
      verification-form.js
  token-counters (2.31 MiB)
      ../css/token-counters.css
      token-counters.js
  token-transfers (2.31 MiB)
      ../css/token-transfers.css
      token-transfers.js
  admin-tasks (2.3 MiB)
      ../css/admin-tasks.css
      admin-tasks.js
  read-token-contract (2.32 MiB)
      ../css/read-token-contract.css
      read-token-contract.js
  smart-contract-helpers (2.32 MiB)
      ../css/smart-contract-helpers.css
      smart-contract-helpers.js
  write-contract (1.35 MiB)
      write-contract.js
  try-api (2.3 MiB)
      ../css/try-api.css
      try-api.js
  try-eth-api (2.3 MiB)
      ../css/try-eth-api.css
      try-eth-api.js
  async-listing-load (2.3 MiB)
      ../css/async-listing-load.css
      async-listing-load.js
  tokens (2.31 MiB)
      ../css/tokens.css
      tokens.js
  search-results (2.31 MiB)
      ../css/search-results.css
      search-results.js

WARNING in webpack performance recommendations: 
You can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.
For more info visit https://webpack.js.org/guides/code-splitting/

webpack 5.44.0 compiled with 3 warnings in 131032 ms

asset dropzone.min.js 112 KiB [emitted] [minimized] (name: dropzone)
runtime modules 663 bytes 3 modules
cacheable modules 333 KiB
  ./js/lib/dropzone.js 18 bytes [built] [code generated]
  ./node_modules/dropzone/dist/dropzone.js 333 KiB [built] [code generated]
webpack 5.44.0 compiled successfully in 5347 ms
/opt/app
Removing intermediate container db2b91e997c0
 ---> 1cc6ce71032c
Step 20/21 : RUN cd apps/explorer/ &&     npm install &&     apk update && apk del --force-broken-world alpine-sdk gmp-dev automake libtool inotify-tools autoconf python3
 ---> Running in 40f2d04e09f3

added 26 packages, and audited 27 packages in 3s

1 high severity vulnerability

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
fetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz
fetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/edge/main/x86_64/APKINDEX.tar.gz
v3.13.7-56-g6fd8bb1902 [https://dl-cdn.alpinelinux.org/alpine/v3.13/main]
v3.13.7-49-g301895ec8c [https://dl-cdn.alpinelinux.org/alpine/v3.13/community]
v3.13.7-56-g6fd8bb1902 [http://dl-cdn.alpinelinux.org/alpine/v3.13/main]
v3.13.7-49-g301895ec8c [http://dl-cdn.alpinelinux.org/alpine/v3.13/community]
v3.15.0-5851-gb9d6285e42 [http://dl-cdn.alpinelinux.org/alpine/edge/main]
OK: 18652 distinct packages available
(1/30) Purging inotify-tools (3.20.11.0-r0)
(2/30) Purging alpine-sdk (1.0-r0)
(3/30) Purging abuild (3.7.0-r0)
(4/30) Purging fakeroot (1.25.3-r3)
(5/30) Purging attr (2.4.48-r0)
(6/30) Purging tar (1.34-r0)
(7/30) Purging lzip (1.21-r0)
(8/30) Purging build-base (0.5-r2)
(9/30) Purging fortify-headers (1.1-r0)
(10/30) Purging patch (2.7.6-r7)
(11/30) Purging git-perl (2.30.2-r0)
(12/30) Purging perl-git (2.30.2-r0)
(13/30) Purging perl-error (0.17029-r1)
(14/30) Purging autoconf (2.69-r3)
(15/30) Purging m4 (1.4.18-r2)
(16/30) Purging automake (1.16.3-r0)
(17/30) Purging perl (5.32.0-r0)
(18/30) Purging gmp-dev (6.2.1-r0)
(19/30) Purging libgmpxx (6.2.1-r0)
(20/30) Purging libtool (2.4.6-r7)
(21/30) Purging libltdl (2.4.6-r7)
(22/30) Purging python3 (3.8.10-r0)
(23/30) Purging libattr (2.4.48-r0)
(24/30) Purging libacl (2.2.53-r0)
(25/30) Purging pkgconf (1.7.3-r0)
(26/30) Purging libbz2 (1.0.8-r1)
(27/30) Purging libffi (3.3-r2)
(28/30) Purging gdbm (1.19-r0)
(29/30) Purging xz-libs (5.2.5-r0)
(30/30) Purging sqlite-libs (3.34.1-r0)
Executing busybox-1.32.1-r5.trigger
OK: 276 MiB in 53 packages
Removing intermediate container 40f2d04e09f3
 ---> a9ca3978f949
Step 21/21 : CMD ["sh", "-c", "./wait-for-it.sh ${DATABASE_HOST}:5432 -- mix do ecto.drop, ecto.create, ecto.migrate, phx.digest, phx.server"]
 ---> Running in 7620e3a04da6
Removing intermediate container 7620e3a04da6
 ---> 470207fd7b1d

Successfully built 470207fd7b1d
Successfully tagged blockscout_app:latest
